<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plonehelpcenter">

<body>

<div metal:fill-slot="main">

    <div metal:define-macro="main"
         tal:define="len_text python:len(here.getBody());
                     sibl     python:[p for p in here.getPages()];
                     num_sibl python:len(sibl);
                     pos      python:here.getPagePosition(here);">
      
        <h1 class="documentFirstHeading">
            <img tal:replace="structure here/tutorial_icon.gif" />
            <span tal:replace="here/title_or_id">Title or id</span>
        </h1>
    
        <div class="jumpBox">
          <form method="get" action="#" style="text-align:right; float: right;">
            <label for="destination" class="hiddenStructure">Jump to:</label>
            <select name=":action" tabindex="3"
                    onchange="window.location.href=this.options[this.selectedIndex].value"
                    tal:attributes="tabindex tabindex/next|nothing">
	        <option value="tutorial-all-pages"
			title="Useful for printing, presentation mode etc.">
		  All content on one page
		</option>
                <option tal:repeat="s sibl"
                        tal:attributes="value s/getId;
                         selected python:s.getId == here.getId () and 'selected' or nothing;">
                    Part <tal:index replace="repeat/s/number" />:
                    <tal:page content="s/Title">Some Page</tal:page>
                </option>
            </select>
            <noscript>
                <input class="standalone"
                       type="submit"
                       value="Go"
                       i18n:attributes="value"
                       tabindex="4"
                       tal:attributes="tabindex tabindex/next|nothing" />
            </noscript>
          </form>
        </div>

        <p class="documentDescription"
             tal:content="here/Description">
            description
        </p>
        
        <div class="portalMessage" tal:condition="python:here.portal_workflow.getInfoFor(here, 'review_state') != 'published'">
           You must publish this page before it becomes visible to the public.
        </div>

        <p class="discreet"
           tal:condition="python: not len_text and is_editable"
           i18n:domain="plone"
           i18n:translate="no_body_text">
            This item does not have any body text, click the edit tab to change it.
        </p>
    
        <div class="tutorialAbout"
             tal:define="portrait python: mtool.getPersonalPortrait(here.Creator());">
        
	  <tal:byline
	      tal:condition="python: site_properties.allowAnonymousViewAbout or not isAnon">
            <div style="text-align: center;">
                <img src=""
                     alt=""
                     class="portraitPhoto"
                     width="75"
                     height="100"
                     tal:attributes="src portrait/absolute_url" />
            </div>

            <tal:name tal:condition="here/Creator"
                tal:define="creator here/Creator;
                            author python:mtool.getMemberInfo(creator)">
            <p>
              <a href="#"
                 tal:attributes="href string:${portal_url}/author/${creator}"
                 tal:content="python:author and author['fullname'] or creator"
                 tal:omit-tag="not:author">
                Bob Dobalina
              </a>
            </p>                    
            </tal:name>
	  </tal:byline>
            
            <div tal:content="here/getTutorialDescription">
            Tutorial Description
            </div>
            
            <div>
          <span i18n:translate="phc_page">
          Page </span>
          <span tal:replace="python:pos+1">5</span>
          <span i18n:translate="phc_of">
          of </span>
          <span tal:replace="python:num_sibl">10</span>.
            </div>
        </div>

        <div id="bodyContent">
            <div tal:replace="structure python:here.getBody()" />
        </div>
    
        <div class="listingBar" tal:condition="python: next or prev"
          tal:define="next python:pos &lt; num_sibl-1 and sibl[pos+1];
               prev python:pos != 0 and sibl[pos-1]"
               >
            <a class="listingNext"
               tal:condition="python:next"
               tal:attributes="href next/getURL"
               tabindex="1"
               href="">
           <span i18n:translate="phc_next">
               Next: </span>
           <span tal:replace="next/Title" /> 
           <img tal:replace="structure here/arrowRight.gif" />
           </a>
            <a class="listingPrevious"
               tal:condition="python:prev"
               tal:attributes="href prev/getURL"
               tabindex="1"
               href="">
               <img tal:replace="structure here/arrowLeft.gif" />
           <span i18n:translate="phc_previous">
            Previous: </span>
        <span tal:replace="prev/Title" />
        </a>
               &nbsp;
        </div>

        <div class="visualClear">&nbsp;</div>

        <div metal:use-macro="here/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>    

    </div>

</div>

</body>
</html>
